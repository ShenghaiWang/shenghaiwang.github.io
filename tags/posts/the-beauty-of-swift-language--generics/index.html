<!DOCTYPE html>
<html lang="en-us">

<head><title>
    
    The Beauty of Swift Language – Generics | 
    
    Coding life
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="https://timwang.au/posts/the-beauty-of-swift-language--generics/" />
<link rel="icon" type="image/png" href="https://timwang.au/img/favicon.ico">


<meta name="description" content="
    Generic is a very important concept in strongly typed languages. For type safety, without generics, any types and methods can only handle the types they’re designed for. On the other hand, generics allows types or methods to handle more than one types. For example, in Swift, all collection types like Array, Set and Dictionary are generic types. Thus, we can we can use them with many types. For instance, an Int Array and a String Array etc.
    "
/>
<meta property="og:description" content="
    Generic is a very important concept in strongly typed languages. For type safety, without generics, any types and methods can only handle the types they’re designed for. On the other hand, generics allows types or methods to handle more than one types. For example, in Swift, all collection types like Array, Set and Dictionary are generic types. Thus, we can we can use them with many types. For instance, an Int Array and a String Array etc.
    " 
/>

    
    
        
        
    
    <meta property="og:image" content="https://timwang.au/posts/the-beauty-of-swift-language--generics/feature.webp" />




<meta property="og:title" content="The Beauty of Swift Language – Generics" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://timwang.au/posts/the-beauty-of-swift-language--generics/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-11-26T00:00:00+00:00" />





  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://timwang.au/posts/the-beauty-of-swift-language--generics/feature.webp">
  <meta name="twitter:title" content="The Beauty of Swift Language – Generics">
  <meta name="twitter:description" content="Generic is a very important concept in strongly typed languages. For type safety, without generics, any types and methods can only handle the types they’re designed for. On the other hand, generics allows types or methods to handle more than one types. For example, in Swift, all collection types like Array, Set and Dictionary are generic types. Thus, we can we can use them with many types. For instance, an Int Array and a String Array etc.">


  <meta itemprop="name" content="The Beauty of Swift Language – Generics">
  <meta itemprop="description" content="Generic is a very important concept in strongly typed languages. For type safety, without generics, any types and methods can only handle the types they’re designed for. On the other hand, generics allows types or methods to handle more than one types. For example, in Swift, all collection types like Array, Set and Dictionary are generic types. Thus, we can we can use them with many types. For instance, an Int Array and a String Array etc.">
  <meta itemprop="datePublished" content="2023-11-26T00:00:00+00:00">
  <meta itemprop="dateModified" content="2023-11-26T00:00:00+00:00">
  <meta itemprop="wordCount" content="2083">
  <meta itemprop="image" content="https://timwang.au/posts/the-beauty-of-swift-language--generics/feature.webp">
  <meta itemprop="keywords" content="Swift,Generics">




<link rel="stylesheet" href="https://timwang.au/main.min.css">





<script src="https://timwang.au/bundle.js"></script>







<script data-ad-client="ca-pub-2436585290223978" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>




    <script async src="https://www.googletagmanager.com/gtag/js?id=G-337R547PCS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-337R547PCS');
</script>




<link rel="stylesheet" href="https://timwang.au/katex/katex.min.css">
<script defer src="https://timwang.au/katex/katex.min.js"></script>
<script defer src="https://timwang.au/katex/auto-render.min.js"
    onload="renderMathInElement(document.body);"></script>




<script defer src="https://timwang.au/mermaid/mermaid.min.js"></script>
</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">
        <div class="col-3 col-sm-4 social-buttons d-none d-sm-block">
          <ul>
    

    

    

    

    
    <li>
        <a href="https://github.com/ShenghaiWang" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/overocean/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
        </div>

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <div class="col-6 col-sm-4">
          <h2 class="title"><img src="https://timwang.au/img/favicon.png" width="80" /><a href="https://timwang.au/">Coding life</a></h2>
        </div>

        
        <div class="col-3 col-sm-4">
          <div class="col col-md-8 offset-md-4 d-none d-sm-block">
            <form id="cse-search-box-form-id" class="input-group search-bar" onsubmit="return executeQuery('lg');"
              role="search">
              <input id="cse-search-input-box-id" type="text" class="form-control" placeholder="Search">
              <button class="btn" type="submit">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
        </div>
        

      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">

          <li class="nav-item d-block d-sm-none">
            <ul class="social-buttons">
              <ul>
    

    

    

    

    
    <li>
        <a href="https://github.com/ShenghaiWang" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/overocean/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
            </ul>
          </li>

          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/posts/">
              Posts
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/about/">
              About
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/contact/">
              Contact
            </a>
          </li>
          
          
        </ul>

        
        <form id="cse-search-box-form-id2" class="d-flex search-bar d-block d-sm-none"
          onsubmit="return executeQuery('xs');" role="search">
          <input id="cse-search-input-box-id2" type="text" class="form-control" placeholder="Search">
          <button class="btn" type="submit">
            <i class="fa fa-search"></i>
          </button>
        </form>
        

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            
            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-left-offset"></div>
                
            </div>

            <div class="col-md-12 col-lg-8 px-lg-4">
                

                <h1 class="title">The Beauty of Swift Language – Generics</h1>

                <div class="container-fluid px-0 mb-4">
                    <div class="row align-items-end">
                        <div class="col-md-4 date-time">
                            <span class="date">
    Nov 26, 2023
</span>
                            &centerdot;
                            <span class="time-to-read">
    12 mins read</span>
                        </div>

                        <div class="col-md-8 tags ">
                            
                            <a href="https://timwang.au/tags/swift"><span
                                    class="tag bg-danger">Swift</span></a>
                            
                            <a href="https://timwang.au/tags/generics"><span
                                    class="tag bg-danger">Generics</span></a>
                            
                        </div>
                    </div>
                </div>

                
                    
                        <figure>
                            
                            <img id="cover-image" src=https://timwang.au/posts/the-beauty-of-swift-language--generics/feature.webp alt="The Beauty of Swift Language – Generics">
                        </figure>
                    
                

                <p>Generic is a very important concept in strongly typed languages. For type safety, without generics, any types and methods can only handle the types they’re designed for. On the other hand, generics allows types or methods to handle more than one types. For example, in Swift, all collection types like Array, Set and Dictionary are generic types. Thus, we can we can use them with many types. For instance, an Int Array and a String Array etc.</p>
<p>Generics are not only used in system types. As programmers, we can also define our own generic types or methods. Using generics correctly usually can <strong>improve code reuse, ensure type safety and boost performance</strong>. However, it also often requires more effort to write generic types or methods. In this article, we are going to explore how generics can be used in Swift and how it’s different from other languages like C# and Kotlin.</p>
<h1 id="key-concepts">Key Concepts</h1>
<h2 id="type-parameter-and-type-argument">Type parameter and type argument</h2>
<p>In order to express the idea that the type/method can handle more than one types, the languages need to have a syntax to support this. This is where type parameter and type argument come in. When we define a generic type/method, we use type parameter in the definition to indicate that it can handle multiple types and we use type argument to specify the type when we use this generic type/method, which will be shown in the following sections.</p>
<h2 id="variance">Variance</h2>
<p>Morphism is a critical concept for objects in the Object Oriented language world. It essentially means some object type instances can behave as other type instances sometimes. For example, a subclass instance can behave as its base class instance sometimes. When this come into play with generics, it could become very interesting. For instance, can we assign a value of a generic type with a subclass as type argument to a variable of the same generic type that uses the base class as type argument? If we can, we can say a type is a subtype of another type, or vice versa.</p>
<p>The variance concept focuses on the relationship of types: whether a type is a subtype of another type. In total, there are three variance types: covariance, contrivance and invariance. Essentially, covariance means the derived type will keep the order of its parent type. For example, if type A is a subtype of B, the derived type A(with A as type argument) will still be a subtype of the derived type B(with B as type argument from the same Generic type). Contrivance means the relationship of the derived types is reversed. Lastly, invariance means there is no relationship between the derive types at all.</p>
<p>Different languages have different syntaxes to express these variance ideas, which will be shown in the following sections. It is worth mentioning that the variance concept is not limited in classes and it subclasses, it’s a concept that applies to all types including protocol/interface types, function types etc.</p>
<h2 id="type-constraint">Type Constraint</h2>
<p>To develop the type and subtype concepts in generics further, what if we want to define a generic type/method that can only be used for certain subtypes? In this case we cannot just use a generic type parameter because it means that any types can be used. In order to limit the subtypes that can be used in the generic definition, we need a way to put some type constraints in and different languages have different syntaxes for this as well, which will be explored in the following sections.</p>
<h1 id="define-generic-types">Define Generic types</h1>
<p>The syntaxes to define Generic Types are very similar in Swift, C# and Kotlin. The Type parameters can be used just like normal Types in the generic type definitions and we use concrete type arguments to replace the type parameters in Generic types, which also means all the generic types instances are concrete types at runtime. Let’s compare how these are done in these languages. The <strong>T</strong> and <strong>U</strong> in the examples are type parameters.</p>
<h2 id="swift">Swift</h2>
<p>Swift allows to create generic struct, class, actor, protocol, enum types. Let’s use generic class as an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// Define  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample</span>&lt;T&gt; { }     <span style="color:#75715e">// With one type parameter  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample2</span>&lt;T, U&gt; { } <span style="color:#75715e">// With two type parameters  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> generic1 = GenericClassExample&lt;Int&gt;()  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> generic2 = GenericClassExample2&lt;Int, String&gt;()
</span></span></code></pre></div><h2 id="c">C#</h2>
<p>In C#, we can define generic struct, class, interface and record types, but not enum type. For generic type definition, the syntax is like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#75715e">// Define  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample</span>&lt;T&gt; { }     <span style="color:#75715e">// With one type parameter  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample2</span>&lt;T, U&gt; { } <span style="color:#75715e">// With two type parameters  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> generic1 = <span style="color:#66d9ef">new</span> GenericClassExample&lt;<span style="color:#66d9ef">int</span>&gt;();  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> generic2 = <span style="color:#66d9ef">new</span> GenericClassExample2&lt;<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">string</span>&gt;();
</span></span></code></pre></div><h2 id="kotlin">Kotlin</h2>
<p>We can define generic class, interface in Kotlin. Let’s take generic class definition as an example like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// Define  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample</span>&lt;T&gt; { }     <span style="color:#75715e">// With one type parameter  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClassExample2</span>&lt;T, U&gt; { } <span style="color:#75715e">// With two type parameters  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> generic1 = GenericClassExample&lt;Int&gt;()  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> generic2 = GenericClassExample2&lt;Int, String&gt;()
</span></span></code></pre></div><h1 id="define-generic-methods">Define Generic methods</h1>
<p>The methods defined in a generic type can use the type parameter of that type as a normal type. The following will discuss the generic methods that does not use the type parameters of the parent type that they are in.</p>
<p>The syntaxes of defining and using generic methods in these three languages are very similar. Just as we can use the type parameters defined in the Generic types as normal types in the type body, we can use the type parameters defined in the generic method declaration as normal types in method body.</p>
<h2 id="swift-1">Swift</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// Define  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">genericMethod</span>&lt;T&gt;(parameter: T) { } <span style="color:#75715e">// With one Generic type parameter  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">genericMethod</span>&lt;T, U&gt;(parameter: T, parameter2: U) { } <span style="color:#75715e">// With one Generic type parameters  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use  </span>
</span></span><span style="display:flex;"><span>genericMethod&lt;Int&gt;(parameter: <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>genericMethod&lt;Int, String&gt;(parameter: <span style="color:#ae81ff">1</span>, parameter2: <span style="color:#e6db74">&#34;abc&#34;</span>)  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Or use it relying on type inference  </span>
</span></span><span style="display:flex;"><span>genericMethod(parameter: <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>genericMethod(parameter: <span style="color:#ae81ff">1</span>, parameter2: <span style="color:#e6db74">&#34;abc&#34;</span>)
</span></span></code></pre></div><h2 id="c-1">C#</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#75715e">// Define  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> genericMethod&lt;T&gt;(T parameter) { } <span style="color:#75715e">// With one Generic type parameter  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> genericMethod&lt;T, U&gt;(T parameter, U Parameter2) { } <span style="color:#75715e">// With one Generic type parameters  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use  </span>
</span></span><span style="display:flex;"><span>genericMethod&lt;<span style="color:#66d9ef">int</span>&gt;(<span style="color:#ae81ff">1</span>);  
</span></span><span style="display:flex;"><span>genericMethod&lt;<span style="color:#66d9ef">int</span>, String&gt;(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;abc&#34;</span>);  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Or use it relying on type inference  </span>
</span></span><span style="display:flex;"><span>genericMethod(<span style="color:#ae81ff">1</span>);  
</span></span><span style="display:flex;"><span>genericMethod(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;abc&#34;</span>);
</span></span></code></pre></div><h2 id="kotlin-1">Kotlin</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// Define  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">genericMethod</span>(parameter: T) { } <span style="color:#75715e">// With one Generic type parameter  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>, <span style="color:#a6e22e">U</span>&gt; <span style="color:#a6e22e">genericMethod</span>(parameter: T, parameter2: U) { }   <span style="color:#75715e">// With one Generic type parameters  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>genericMethod&lt;Int&gt;(<span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>genericMethod&lt;Int, String&gt;(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;abc&#34;</span>)  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Or use it relying on type inference  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>genericMethod(<span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>genericMethod(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;abc&#34;</span>)
</span></span></code></pre></div><h1 id="express-variances">Express Variances</h1>
<p>Variances indicate if it’s type safe to do certain operations. As a rule of thumb, if the type is used only on return value, it’s covariant. If the type is used as the type of input parameters, it’s contravariant. Let’s see how this can be done in these languages.</p>
<h2 id="swift-2">Swift</h2>
<p>In Swift, all custom generic types are invariant by default, which means none of the following works.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// let base = GenericClass&lt;Base&gt;()  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// let sub: GenericClass&lt;Sub&gt; = base  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// let sub = GenericClass&lt;Sub&gt;()  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// let base: GenericClass&lt;Base&gt; = sub</span>
</span></span></code></pre></div><p>It’s worth mentioning that the native collection types have special support on this like below:</p>
<pre tabindex="0"><code>// However, this works because Swift has special treatment for the generic collection types  
let subArray: [Sub] = []  
let baseArray: [Base] = subArray  
  
// This doesn&#39;t work because Array is covairant type  
// let baseArray: [Base] = []  
// let subArray: [Sub] = baseArray
</code></pre><p>Swift doesn’t provide any syntax to provide variance in the generic definitions at the moment.</p>
<h2 id="c-2">C#</h2>
<p>Similarly, all custom generic types are invariant in C# by default.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Cannot assign a value of type GenericClass&lt;Base&gt; to a vairable of type GenericClass&lt;Sub&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// var baseGeneric = new GenericClass&lt;Base&gt;();  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// GenericClass&lt;Sub&gt; subGeneric = baseGeneric;  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Cannot assign a value of type GenericClass&lt;Sub&gt; to a vairable of type GenericClass&lt;Base&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// var subGeneric = new GenericClass&lt;Sub&gt;();  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// GenericClass&lt;Base&gt; baseGeneric = subGeneric;</span>
</span></span></code></pre></div><p>Again, C# supports covariance on its native array types.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#75715e">// However, this works because C#&#39;s specical treatment of Array type  </span>
</span></span><span style="display:flex;"><span>Sub[] subArray = [];  
</span></span><span style="display:flex;"><span>Base[] baseArray = subArray;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// The following does not work because array is covariant type  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Base[] baseArray = [];  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Sub[] subArray = baseArray;</span>
</span></span></code></pre></div><p>However, C# allows to declare variance for Generic Interfaces. To specify covariance, us <code>out</code> keyword like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ICovariant</span>&lt;<span style="color:#66d9ef">out</span> R&gt; { } <span style="color:#75715e">// out means covariance  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestA</span>: ICovariant&lt;Base&gt; { }  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestB</span>: ICovariant&lt;Sub&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// With covariance, this will work  </span>
</span></span><span style="display:flex;"><span>ICovariant&lt;Sub&gt; subInterface = <span style="color:#66d9ef">new</span> TestB();  
</span></span><span style="display:flex;"><span>ICovariant&lt;Base&gt; baseInterface = subInterface;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// But this won&#39;t work  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ICovariant&lt;Base&gt; baseInterface = new TestA();  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ICovariant&lt;Sub&gt; subInterface = baseInterface;</span>
</span></span></code></pre></div><p>To specify contravariance, us <code>in</code> keyword like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ICovariant</span>&lt;<span style="color:#66d9ef">in</span> R&gt; { } <span style="color:#75715e">// in means contravariance  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestA</span>: ICovariant&lt;Base&gt; { }  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestB</span>: ICovariant&lt;Sub&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// With contravariance, this will work  </span>
</span></span><span style="display:flex;"><span>ICovariant&lt;Base&gt; baseInterface = <span style="color:#66d9ef">new</span> TestA();  
</span></span><span style="display:flex;"><span>ICovariant&lt;Sub&gt; subInterface = baseInterface;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// But this won&#39;t work  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ICovariant&lt;Sub&gt; subInterface = new TestB();  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ICovariant&lt;Base&gt; baseInterface = subInterface;</span>
</span></span></code></pre></div><h2 id="kotlin-2">Kotlin</h2>
<p>Likewise, all custom generic types are invariant in Kotlin by default. So none of the following works.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">open</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base() {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This won&#39;t work  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val base = GenericClass&lt;Base&gt;()  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val sub: GenericClass&lt;Sub&gt; = base  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This also does not work  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val sub2 = GenericClass&lt;Sub&gt;()  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val base2: GenericClass&lt;Base&gt; = sub2
</span></span></span></code></pre></div><p>In contrast to C# and Swift, Kotlin doesn’t provide covariance support for array type. So the following won’t work.</p>
<pre tabindex="0"><code>// val baseArray: Array&lt;Base&gt; = emptyArray()  
// val subArray: Array&lt;Sub&gt; = baseArray  
      
// val subArray: Array&lt;Sub&gt; = emptyArray()  
// val baseArray: Array&lt;Base&gt; = subArray
</code></pre><p>If we switch to List, it will work for covariance case like below because Generic List support covairance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// This will not work because it&#39;s not contravairant  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val baseList: List&lt;Base&gt; = emptyList()  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val subList: List&lt;Sub&gt; = baseList  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This works  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> subList: List&lt;Sub&gt; = emptyList()  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> baseList: List&lt;Base&gt; = subList
</span></span></code></pre></div><p>Kotlin uses so called <a href="https://kotlinlang.org/docs/generics.html#declaration-site-variance">Declaration-site variance</a> for this purpose, which also uses <code>out</code> and <code>in</code> keyword for covariance and contravariance respectively like in C#. However, unlike C#, those keywords in Kotlin can be used with Type parameters in all types of generic definitions.</p>
<p>Use <code>out</code> to specify covariance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">open</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sub</span>: Base() {}  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;<span style="color:#66d9ef">out</span> T&gt; { }  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This works as GenericClass is covairant with Generic Type T  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> subGenericClass = GenericClass&lt;Sub&gt;()  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> baseGenericClass: GenericClass&lt;Base&gt; = subGenericClass  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This will not work  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// val baseGenericClass = GenericClass&lt;Base&gt;()  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// var subGenericClass: GenericClass&lt;Sub&gt; = baseGenericClass
</span></span></span></code></pre></div><p>Use <code>in</code> to specify contravariance:</p>
<pre tabindex="0"><code>open class Base {}  
class Sub: Base() {}  
class GenericClass&lt;in T&gt; { }  
  
// This works as GenericClass is contravairant with Generic Type T  
val baseGenericClass = GenericClass&lt;Base&gt;()  
var subGenericClass: GenericClass&lt;Sub&gt; = baseGenericClass  
      
// This will not work  
// val subGenericClass = GenericClass&lt;Sub&gt;()  
// var baseGenericClass: GenericClass&lt;Base&gt; = subGenericClass
</code></pre><h1 id="add-type-constraints">Add type constraints</h1>
<h2 id="swift-3">Swift</h2>
<p>In Swift, there are two ways to set constraints to the Generic type: <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/genericparametersandarguments/#Generic-Parameter-Clause">Generic Parameter Clause</a> and <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/genericparametersandarguments/#Generic-Where-Clauses">Generic Where Clauses</a> like below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">// Use Generic Parameter Clause only  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T: Comparable <span style="color:#f92672">&amp;</span> Hashable&gt;  {  
</span></span><span style="display:flex;"><span>}   
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use Generic Parameter Clause only and Generic Where Clause  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T: Comparable&gt; <span style="color:#66d9ef">where</span> T: Hashable {   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="c-3">C#</h2>
<p>In C#, use <code>where</code> to add constraints to Type parameters like below and more details can be found <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/constraints-on-type-parameters">here</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T&gt; <span style="color:#66d9ef">where</span> T : System.IComparable&lt;T&gt;, <span style="color:#66d9ef">new</span>() { }
</span></span></code></pre></div><h2 id="kotlin-3">Kotlin</h2>
<p>Kotlin offers two ways to set constraints to Generic types: Type <a href="https://kotlinlang.org/docs/generics.html#upper-bounds">Upper bounds</a> and <a href="https://kotlinlang.org/docs/generics.html#upper-bounds">where clause</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// The upper bound of T is Comparable&lt;T&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T: Comparable&lt;T&gt;&gt; {  
</span></span><span style="display:flex;"><span>}  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// The upper bound of T is Comparable&lt;T&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Meanwhile it has to satisfy with the where clause T : CharSequence  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GenericClass</span>&lt;T: Comparable&lt;T&gt;&gt; <span style="color:#66d9ef">where</span> T : CharSequence {  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="conclusion">Conclusion</h1>
<p>In this article, we have explored the concept of generics and how we express generic ideas in Swift, C# and Kotlin at a very high level. While Swift offers the most concise and expressive syntax for generic programming, as you might have noticed, it seems lacking of the syntax to express ideas of variance comparing to C# and Kotlin at the moment.</p>
<p>Please also note, due to the length of the article, we have not covered all the generic ideas in Swift. Some important ones that have been left over are <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/generics/#Associated-Types">Associated Types</a> , <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/opaquetypes/">Opaque types</a>, <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/generics#Generic-Subscripts">Generic Subscripts</a> etc. Similarly, <a href="https://kotlinlang.org/docs/generics.html#type-projections">Type projections</a> and <a href="https://kotlinlang.org/docs/generics.html#type-erasure">Type erasure</a> are also very useful features in Kotlin. If you like to learn more about them, please check out the them via the links provided.</p>


                <div id="social-media-share">
	<p><i>Sharing is caring!</i></p>
	
	<div class="share-buttons">
	    <a  href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Facebook. Opens in a new window.">
	        <img src=https://timwang.au/icons/48px/facebook.png>
	    </a>

	    <a  href="https://twitter.com/intent/tweet?text=The%20Beauty%20of%20Swift%20Language%20%e2%80%93%20Generics&url=https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Twitter. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/x.png>
	    </a>

		<a  href="http://www.reddit.com/submit?url=https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Reddit. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/reddit.png>
	    </a>

	    <a  href="http://pinterest.com/pin/create/button/https://timwang.au/posts/the-beauty-of-swift-language--generics/"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Pinterest. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/pinterest.png>
	    </a>

	    <a  href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Tumblr. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/tumblr.png>
	    </a>

		<a  href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f
			&title=The%20Beauty%20of%20Swift%20Language%20%e2%80%93%20Generics&summary=%3cp%3eGeneric%20is%20a%20very%20important%20concept%20in%20strongly%20typed%20languages.%20For%20type%20safety%2c%20without%20generics%2c%20any%20types%20and%20methods%20can%20only%20handle%20the%20types%20they%e2%80%99re%20designed%20for.%20On%20the%20other%20hand%2c%20generics%20allows%20types%20or%20methods%20to%20handle%20more%20than%20one%20types.%20For%20example%2c%20in%20Swift%2c%20all%20collection%20types%20like%20Array%2c%20Set%20and%20Dictionary%20are%20generic%20types.%20Thus%2c%20we%20can%20we%20can%20use%20them%20with%20many%20types.%20For%20instance%2c%20an%20Int%20Array%20and%20a%20String%20Array%20etc.%3c%2fp%3e&source=https%3a%2f%2ftimwang.au%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/linkedin.png>
	    </a>

	    <a  href="mailto:?subject=The%20Beauty%20of%20Swift%20Language%20%e2%80%93%20Generics&amp;body=Check out this site https%3a%2f%2ftimwang.au%2fposts%2fthe-beauty-of-swift-language--generics%2f"
	        title="Share via Email. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/email.png>
	    </a>
	</div>
</div>




                
                <br>
                <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>

            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-right-offset"></div>
                
            </div>
        </div>
    </div>
</main>

<footer class="text-center py-5">
    <p>
        
        © 2025  Tim Wang
        
    </p>
</footer>


<script async src="https://cse.google.com/cse.js?cx=AIzaSyDwPbN1tZoMa6RdVZ_fNQSpv0QuuJ9igJ0"></script>
<gcse:searchresults-only></gcse:searchresults-only>
</body>

</html>