<!DOCTYPE html>
<html lang="en-us">

<head><title>
    
    Various Ways to Secure Network Traffic for Mobile Apps | 
    
    Coding life
</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="canonical" href="https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/" />
<link rel="icon" type="image/png" href="https://timwang.au/img/favicon.ico">


<meta name="description" content="
    Various ways to secure network traffic for mobile apps
    "
/>
<meta property="og:description" content="
    Various ways to secure network traffic for mobile apps
    " 
/>

    
    
        
        
    
    <meta property="og:image" content="https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/feature.webp" />




<meta property="og:title" content="Various ways to secure network traffic for mobile apps" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-12-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-12-23T00:00:00+00:00" />





  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/feature.webp">
  <meta name="twitter:title" content="Various ways to secure network traffic for mobile apps">
  <meta name="twitter:description" content="Various ways to secure network traffic for mobile apps">


  <meta itemprop="name" content="Various ways to secure network traffic for mobile apps">
  <meta itemprop="description" content="Various ways to secure network traffic for mobile apps">
  <meta itemprop="datePublished" content="2024-12-23T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-12-23T00:00:00+00:00">
  <meta itemprop="wordCount" content="1098">
  <meta itemprop="image" content="https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/feature.webp">
  <meta itemprop="keywords" content="Swift,IOS,Security">




<link rel="stylesheet" href="https://timwang.au/main.min.css">





<script src="https://timwang.au/bundle.js"></script>







<script data-ad-client="ca-pub-2436585290223978" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>




    <script async src="https://www.googletagmanager.com/gtag/js?id=G-337R547PCS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-337R547PCS');
</script>




<link rel="stylesheet" href="https://timwang.au/katex/katex.min.css">
<script defer src="https://timwang.au/katex/katex.min.js"></script>
<script defer src="https://timwang.au/katex/auto-render.min.js"
    onload="renderMathInElement(document.body);"></script>




<script defer src="https://timwang.au/mermaid/mermaid.min.js"></script>
</head>

<body><header id="header">
  <div class="top-bar">
    <div class="container-md">

      <div class="row align-items-center">
        <div class="col-3 col-sm-4 social-buttons d-none d-sm-block">
          <ul>
    

    

    

    

    
    <li>
        <a href="https://github.com/ShenghaiWang" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/overocean/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
        </div>

        <div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
          <button class="bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <div class="col-6 col-sm-4">
          <h2 class="title"><img src="https://timwang.au/img/favicon.png" width="80" /><a href="https://timwang.au/">Coding life</a></h2>
        </div>

        
        <div class="col-3 col-sm-4">
          <div class="col col-md-8 offset-md-4 d-none d-sm-block">
            <form id="cse-search-box-form-id" class="input-group search-bar" onsubmit="return executeQuery('lg');"
              role="search">
              <input id="cse-search-input-box-id" type="text" class="form-control" placeholder="Search">
              <button class="btn" type="submit">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
        </div>
        

      </div>
    </div>
  </div>

  <div class="container-md">
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">

          <li class="nav-item d-block d-sm-none">
            <ul class="social-buttons">
              <ul>
    

    

    

    

    
    <li>
        <a href="https://github.com/ShenghaiWang" target="_blank">
            <i class="fab fa-github"></i></a>
    </li>
    

    

    
    <li>
        <a href="https://www.linkedin.com/in/overocean/" target="_blank">
            <i class="fab fa-linkedin"></i></a>
    </li>
    

</ul>
            </ul>
          </li>

          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/">
              Home
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/posts/">
              Posts
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/about/">
              About
            </a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link 
              
              " 
              href="https://timwang.au/contact/">
              Contact
            </a>
          </li>
          
          
        </ul>

        
        <form id="cse-search-box-form-id2" class="d-flex search-bar d-block d-sm-none"
          onsubmit="return executeQuery('xs');" role="search">
          <input id="cse-search-input-box-id2" type="text" class="form-control" placeholder="Search">
          <button class="btn" type="submit">
            <i class="fa fa-search"></i>
          </button>
        </form>
        

      </div>
    </nav>
  </div>
</header>

<main class="blog-content">
    <div class="container-md">
        <div class="row">
            
            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-left-offset"></div>
                
            </div>

            <div class="col-md-12 col-lg-8 px-lg-4">
                

                <h1 class="title">Various ways to secure network traffic for mobile apps</h1>

                <div class="container-fluid px-0 mb-4">
                    <div class="row align-items-end">
                        <div class="col-md-4 date-time">
                            <span class="date">
    Dec 23, 2024
</span>
                            &centerdot;
                            <span class="time-to-read">
    6 mins read</span>
                        </div>

                        <div class="col-md-8 tags ">
                            
                            <a href="https://timwang.au/tags/swift"><span
                                    class="tag bg-dark">Swift</span></a>
                            
                            <a href="https://timwang.au/tags/ios"><span
                                    class="tag bg-dark">iOS</span></a>
                            
                            <a href="https://timwang.au/tags/security"><span
                                    class="tag bg-dark">Security</span></a>
                            
                        </div>
                    </div>
                </div>

                
                    
                        <figure>
                            
                            <img id="cover-image" src=https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/feature.webp alt="Various ways to secure network traffic for mobile apps">
                        </figure>
                    
                

                <p>In today’s mobile-first world, securing communication between the mobile app and backend servers is no longer optional — it’s essential.</p>
<p>While HTTPS protects data in transit, it doesn’t protect against:</p>
<ul>
<li><em>Fake apps using API</em></li>
<li><em>Man-in-the-middle attacks with rogue certificates</em></li>
<li><em>Replay or tampering of signed requests</em></li>
<li><em>Leaked tokens from compromised apps</em></li>
</ul>
<p>This post will explore various other ways to secure mobile app-to-server communication using modern, layered techniques. We’ll take iOS app as an example but the principle applies to Android apps as well.</p>
<h2 id="enforce-https-with-app-transport-security-ats">Enforce HTTPS with App Transport Security (ATS)</h2>
<p><strong>What it is:</strong> iOS blocks non-HTTPS traffic by default.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>&lt;key&gt;NSAppTransportSecurity<span style="color:#f92672">&lt;/</span>key&gt;  
</span></span><span style="display:flex;"><span>&lt;dict&gt;  
</span></span><span style="display:flex;"><span>  &lt;key&gt;NSAllowsArbitraryLoads<span style="color:#f92672">&lt;/</span>key&gt;  
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#66d9ef">false</span><span style="color:#f92672">/&gt;</span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>dict&gt;
</span></span></code></pre></div><p><strong>Why it matters:</strong> Prevents unencrypted communication — the baseline security.</p>
<p><strong>Use when:</strong> Always. Every app should enforce HTTPS.</p>
<h2 id="certificate-pinning">Certificate Pinning</h2>
<h2 id="a-configuration-based-for-ios-14-recommended">a) Configuration-based (for iOS 14+, recommended)</h2>
<p>Configure using the <code>NSPinnedDomains</code> key in the app’s <code>Info.plist</code> . More information can be found from <a href="https://developer.apple.com/documentation/bundleresources/information-property-list/nsapptransportsecurity/nspinneddomains">Apple</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>NSPinnedDomains : Dictionary {  
</span></span><span style="display:flex;"><span>    &lt;domain<span style="color:#f92672">-</span>name<span style="color:#f92672">-</span>string&gt; : Dictionary {  
</span></span><span style="display:flex;"><span>        NSIncludesSubdomains : Boolean  
</span></span><span style="display:flex;"><span>        NSPinnedCAIdentities : Array  
</span></span><span style="display:flex;"><span>        NSPinnedLeafIdentities : Array  
</span></span><span style="display:flex;"><span>    }  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="b-code-based-fallback">b) Code-based (fallback)</h2>
<p>Implement the pinning logic in the code like below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">urlSession</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">_</span> session: URLSession, didReceive challenge: URLAuthenticationChallenge,   
</span></span><span style="display:flex;"><span>                   completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -&gt; Void) {  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Ensure it&#39;s a server trust challenge  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> protectionSpace = challenge.protectionSpace  
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">guard</span> protectionSpace.authenticationMethod == NSURLAuthenticationMethodServerTrust,  
</span></span><span style="display:flex;"><span>            protectionSpace.host.contains(<span style="color:#e6db74">&#34;your.domainname.com&#34;</span>),  
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> serverTrust = protectionSpace.serverTrust <span style="color:#66d9ef">else</span> {  
</span></span><span style="display:flex;"><span>            completionHandler(.performDefaultHandling, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Get the server&#39;s certificate  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">let</span> serverCertificate = SecTrustGetCertificateAtIndex(serverTrust, <span style="color:#ae81ff">0</span>) {  
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> serverCertificateData = SecCertificateCopyData(serverCertificate) <span style="color:#66d9ef">as</span> Data  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Compare with our pinned certificate,   </span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// pinnedCertificateData can be stored in bundle or get from other secure way  </span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> serverCertificateData == pinnedCertificateData {  
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">let</span> credential = URLCredential(trust: serverTrust)  
</span></span><span style="display:flex;"><span>                completionHandler(.useCredential, credential)  
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Certificate doesn&#39;t match  </span>
</span></span><span style="display:flex;"><span>        completionHandler(.cancelAuthenticationChallenge, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p><strong>Why it matters:</strong> Prevents MITM attacks using rogue certificates<br>
<strong>Use when:</strong> Need to ensure server authenticity in critical data flows.</p>
<h2 id="client-certificate-authentication-mtls">Client Certificate Authentication (mTLS)</h2>
<p><strong>What it is:</strong> Mutual TLS allows the server to authenticate the <strong>client app</strong> using a certificate.</p>
<p>The challenge of this approach is how to distribute the client certificate to valid mobile client apps, which should be done in a secure channel via push or a secure onboarding process etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">urlSession</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">_</span> session: URLSession, didReceive challenge: URLAuthenticationChallenge,  
</span></span><span style="display:flex;"><span>                    completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -&gt; Void) {  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Handle server trust (verify server&#39;s certificate)  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodServerTrust {  
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">let</span> serverTrust = challenge.protectionSpace.serverTrust {  
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">let</span> isTrusted = SecTrustEvaluateWithError(serverTrust, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> isTrusted {  
</span></span><span style="display:flex;"><span>                    completionHandler(.useCredential, URLCredential(trust: serverTrust))  
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {  
</span></span><span style="display:flex;"><span>                    print(<span style="color:#e6db74">&#34;Server trust evaluation failed&#34;</span>)  
</span></span><span style="display:flex;"><span>                    completionHandler(.cancelAuthenticationChallenge, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>                }  
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {  
</span></span><span style="display:flex;"><span>                completionHandler(.cancelAuthenticationChallenge, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Handle client certificate authentication  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodClientCertificate {  
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Create a credential with the client identity  </span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> credential = retrieveClientCertificate()  
</span></span><span style="display:flex;"><span>            completionHandler(.useCredential, credential)  
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {  
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Fallback to default handling for other challenges  </span>
</span></span><span style="display:flex;"><span>            completionHandler(.performDefaultHandling, <span style="color:#66d9ef">nil</span>)  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p><strong>Why it matters:</strong> Provides strong client identity at the transport layer.<br>
<strong>Use when:</strong> Need secure app-level identity (e.g., enterprise or internal apps).</p>
<h2 id="request-signing">Request Signing</h2>
<p><strong>What it is:</strong> A technique where each API request is cryptographically signed by the client, ensuring the request hasn’t been altered and originates from a trusted source. Digitally sign each request to ensure it hasn’t been tampered with. This operates at the application layer to allow the server and client to verify each other. The common algorithms for the signing is:</p>
<ul>
<li>HMAC-SHA256: Uses a shared secret for fast, symmetric signing.</li>
<li>RSA/ECDSA: Uses a private key for asymmetric signing, allowing public verification.</li>
</ul>
<p>The challenge of this approach is the Key Management: Securely distributing and rotating shared secrets or public-private keys is critical.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> message = <span style="color:#e6db74">&#34;POST</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">n/api/order</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">n</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">(timestamp)</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">n</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">(body)&#34;</span>  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> key = SymmetricKey(data: Data(<span style="color:#e6db74">&#34;shared-secret&#34;</span>.utf8))  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> hmac = HMAC&lt;SHA256&gt;.authenticationCode(<span style="color:#66d9ef">for</span>: Data(message.utf8), using: key)  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> signature = Data(hmac).base64EncodedString()
</span></span></code></pre></div><p><strong>Why it matters:</strong> Ensures integrity and authenticity of requests.<br>
<strong>Use when:</strong> Verifying the source and payload of sensitive API requests.</p>
<h2 id="key-agreement">Key Agreement</h2>
<p><strong>What it is:</strong> a cryptographic process where two parties independently derive a shared secret key over an insecure channel. A common algorithm is Elliptic Curve Diffie-Hellman (ECDH).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">CryptoKit</span>  
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">import</span> <span style="color:#a6e22e">Foundation</span>  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">func</span> <span style="color:#a6e22e">performECDHKeyAgreement</span>(<span style="color:#a6e22e">clientPrivateKey</span>: <span style="color:#a6e22e">P256</span>.<span style="color:#a6e22e">KeyAgreement</span>.<span style="color:#a6e22e">PrivateKey</span>,   
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">serverPublicKey</span>: <span style="color:#a6e22e">P256</span>.<span style="color:#a6e22e">KeyAgreement</span>.<span style="color:#a6e22e">PublicKey</span>) <span style="color:#a6e22e">throws</span> -&gt; <span style="color:#a6e22e">SymmetricKey</span> {  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Perform ECDH to compute the shared secret  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">let</span> <span style="color:#a6e22e">sharedSecret</span> = <span style="color:#a6e22e">try</span> <span style="color:#a6e22e">clientPrivateKey</span>.<span style="color:#a6e22e">sharedSecretFromKeyAgreement</span>(<span style="color:#a6e22e">with</span>: <span style="color:#a6e22e">serverPublicKey</span>)  
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Derive a symmetric key using HKDF  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">let</span> <span style="color:#a6e22e">symmetricKey</span> = <span style="color:#a6e22e">sharedSecret</span>.<span style="color:#a6e22e">hkdfDerivedSymmetricKey</span>(  
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">using</span>: <span style="color:#a6e22e">SHA256</span>.<span style="color:#a6e22e">self</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">salt</span>: <span style="color:#a6e22e">Data</span>(),  
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sharedInfo</span>: <span style="color:#a6e22e">Data</span>(),  
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">outputByteCount</span>: <span style="color:#ae81ff">32</span> <span style="color:#75715e">// 256-bit key for AES-256 or HMAC  </span>
</span></span><span style="display:flex;"><span>    )  
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">return</span> <span style="color:#a6e22e">symmetricKey</span>  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Why it matters:</strong> Creates session-specific symmetric keys without transmission.<br>
<strong>Use when:</strong> Need to encrypt payloads or manage secure sessions dynamically.</p>
<h2 id="payload-encryption-aes-gcm">Payload Encryption (AES-GCM)</h2>
<p><strong>What it is:</strong> Encrypts sensitive JSON or binary data at the application level using symmetric cryptography such as AES in GCM mode. This protects data from being visible to intermediate systems or logs, even if HTTPS is in use.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> jsonData = <span style="color:#66d9ef">try</span> JSONEncoder().encode(data)  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> sealedBox = <span style="color:#66d9ef">try</span> AES.GCM.seal(jsonData, using: symmetricKey)  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> encryptedPayload = sealedBox.combined!
</span></span></code></pre></div><p><strong>Why it matters:</strong> Protects content even beyond TLS.<br>
<strong>Use when:</strong> Handling personally identifiable or sensitive data.</p>
<h2 id="app-attest-ios-14">App Attest (iOS 14+)</h2>
<p><strong>What it is:</strong> A security service provided by Apple that allows the server to confirm that incoming API requests were made by a valid, unmodified instance of the app. It works by securely generating cryptographic keys on device and proving app authenticity.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> keyId = <span style="color:#66d9ef">try</span> await AppAttestService.shared.generateKey()  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> attestation = <span style="color:#66d9ef">try</span> await AppAttestService.shared.attestKey(keyId, clientDataHash: challengeHash)
</span></span></code></pre></div><p><strong>Why it matters:</strong> Blocks requests from fake, modified, or jailbroken apps.<br>
<strong>Use when:</strong> Need to verify app integrity before issuing sensitive credentials.</p>
<h2 id="replay-protection">Replay Protection</h2>
<p><strong>What it is:</strong> Prevents reuse of signed requests with nonces, timestamps, or one-time tokens.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;timestamp&#34;</span>: <span style="color:#ae81ff">1712403100</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;nonce&#34;</span>: <span style="color:#e6db74">&#34;A1B2C3D4&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;signature&#34;</span>: <span style="color:#e6db74">&#34;...&#34;</span>  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Why it matters:</strong> Prevents replay attacks via captured requests.<br>
<strong>Use when:</strong> Performing one-time actions like payments or token exchange.</p>
<h2 id="secure-remote-password-srp">Secure Remote Password (SRP)</h2>
<p><strong>What it is:</strong> <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP (Secure Remote Password)</a> is a password-authenticated key exchange protocol. It allows a client and server to authenticate each other using a password <strong>without ever transmitting the password</strong>, even over HTTPS. The result is a mutually derived session key.</p>
<p>There are some open sourced Swift libraries on GitHub like <a href="https://github.com/adam-fowler/swift-srp">https://github.com/adam-fowler/swift-srp</a> and <a href="https://github.com/flockoffiles/SwiftySRP">https://github.com/flockoffiles/SwiftySRP</a>. And it’s included in <a href="https://github.com/openssl/openssl">OpenSSL</a> too.</p>
<p><strong>Why it matters:</strong> SRP protects credentials from being intercepted or replayed, even if TLS is compromised. It enables zero-knowledge password verification and secure session bootstrapping without symmetric secrets.</p>
<p><strong>Use when:</strong> You want to enable secure login based on user credentials without transmitting or storing raw passwords.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Securing mobile app-to-server communication is not about a single tool or tactic — it’s about layered resilience. Each mechanism mentioned here addresses a different threat vector: transport security, request integrity, identity validation, or tamper prevention. Use them that align with the app’s sensitivity, user base, and regulatory demands. Above all, treat mobile security as an evolving discipline. Start with strong defaults, and iterate toward defense in depth.</p>


                <div id="social-media-share">
	<p><i>Sharing is caring!</i></p>
	
	<div class="share-buttons">
	    <a  href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Facebook. Opens in a new window.">
	        <img src=https://timwang.au/icons/48px/facebook.png>
	    </a>

	    <a  href="https://twitter.com/intent/tweet?text=Various%20ways%20to%20secure%20network%20traffic%20for%20mobile%20apps&url=https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Twitter. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/x.png>
	    </a>

		<a  href="http://www.reddit.com/submit?url=https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Reddit. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/reddit.png>
	    </a>

	    <a  href="http://pinterest.com/pin/create/button/https://timwang.au/posts/various-ways-to-secure-network-traffic-for-mobile-apps/"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Pinterest. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/pinterest.png>
	    </a>

	    <a  href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Tumblr. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/tumblr.png>
	    </a>

		<a  href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f
			&title=Various%20ways%20to%20secure%20network%20traffic%20for%20mobile%20apps&summary=%3cp%3eIn%20today%e2%80%99s%20mobile-first%20world%2c%20securing%20communication%20between%20the%20mobile%20app%20and%20backend%20servers%20is%20no%20longer%20optional%20%e2%80%94%20it%e2%80%99s%20essential.%3c%2fp%3e%0a%3cp%3eWhile%20HTTPS%20protects%20data%20in%20transit%2c%20it%20doesn%e2%80%99t%20protect%20against%3a%3c%2fp%3e&source=https%3a%2f%2ftimwang.au%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/linkedin.png>
	    </a>

	    <a  href="mailto:?subject=Various%20ways%20to%20secure%20network%20traffic%20for%20mobile%20apps&amp;body=Check out this site https%3a%2f%2ftimwang.au%2fposts%2fvarious-ways-to-secure-network-traffic-for-mobile-apps%2f"
	        title="Share via Email. Opens in a new window." >
	        <img src=https://timwang.au/icons/48px/email.png>
	    </a>
	</div>
</div>




                
                <br>
                <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>

            <div class="col-lg-2 d-none d-xl-block">
                <div class="ad-right-offset"></div>
                
            </div>
        </div>
    </div>
</main>

<footer class="text-center py-5">
    <p>
        
        © 2025  Tim Wang
        
    </p>
</footer>


<script async src="https://cse.google.com/cse.js?cx=AIzaSyDwPbN1tZoMa6RdVZ_fNQSpv0QuuJ9igJ0"></script>
<gcse:searchresults-only></gcse:searchresults-only>
</body>

</html>